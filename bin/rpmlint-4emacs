#!/bin/sh
# SH FILE: rpmlint-4emacs
#
# Purpose   : Run rpmlint on specified file, format output.
# Created   : Wednesday, November 20 2024.
# Author    : Pierre Rouleau <prouleau001@gmail.com>
# Time-stamp: <2026-02-17 23:08:40 EST, updated by Pierre Rouleau>
# ----------------------------------------------------------------------------
# Module Description
# ------------------
#
# Run rpmlint and adjust output to comply with Emacs error line format.

# ----------------------------------------------------------------------------
# Dependencies
# ------------
#
# - rpmlint ( https://github.com/rpm-software-management/rpmlint )
# - GNU awk (normally available on Linux)
# - printf (POSIX shell builtin)

# ----------------------------------------------------------------------------
# Code
# ----
#

script_dirname="$(dirname "$0")"

printf -- "Executing with %s\n"  "${script_dirname}/rpmlint-filter.awk"
rpmlint "$@" | awk -f "${script_dirname}/../awk/rpmlint-filter.awk"

# ----------------------------------------------------------------------------
# Local Variables:
# sh-shell: /bin/sh
# End:
